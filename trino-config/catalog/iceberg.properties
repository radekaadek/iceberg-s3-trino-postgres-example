connector.name=iceberg
iceberg.catalog.type=jdbc

# This line MUST be exactly this
iceberg.jdbc-catalog.driver-class=org.postgresql.Driver
iceberg.jdbc-catalog.connection-url=jdbc:postgresql://postgres:5432/postgres
iceberg.jdbc-catalog.connection-user=postgres
iceberg.jdbc-catalog.connection-password=postgres

# --- S3 Configuration ---

# 1. Change the warehouse directory to an S3 path.
iceberg.jdbc-catalog.default-warehouse-dir=s3a://data/iceberg_catalog

# 2. ACTIVATE the native S3 file system
#    This is the main fix. Without this, Trino ignores all s3.* properties.
fs.native-s3.enabled=true

# 3. Add S3 endpoint and credentials with the correct property names
#    The documentation shows 's3.aws-access-key' and 's3.aws-secret-key'.
s3.endpoint=http://seaweedfs-master:8333
s3.aws-access-key=admin
s3.aws-secret-key=key

# 4. Add path-style access (required for most S3-compatible stores like SeaweedFS)
s3.path-style-access=true

s3.region=us-east-1

iceberg.jdbc-catalog.catalog-name=default
